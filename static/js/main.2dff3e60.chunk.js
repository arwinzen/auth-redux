(this["webpackJsonpauth-redux"]=this["webpackJsonpauth-redux"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(12),a=n.n(c),s=(n(24),n(25),n(8)),i=n(2),o=n(6),l=n(7),u=n(19),j=n(13),b={name:"",email:"",password:"",isLoggedIn:!1},d=Object(j.b)({name:"user",initialState:{currentUser:b,registeredUsers:[]},reducers:{register:function(e,t){e.registeredUsers=[].concat(Object(u.a)(e.registeredUsers),[t.payload])},login:function(e,t){e.currentUser=t.payload},logout:function(e){e.currentUser=b}}}),g=d.actions,O=g.register,h=g.login,m=g.logout,f=d.reducer,p=n(1);var x=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),u=Object(o.a)(a,2),j=u[0],b=u[1],d=Object(i.f)(),g=Object(l.b)(),O=Object(l.c)((function(e){return e.registeredUsers}));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Login Page"}),Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=O.find((function(e){return e.email===n&&e.password===j}));n&&j?t?(console.log("user credentials match"),g(h({name:t.name,email:n,password:j,isLoggedIn:!0})),d("/home")):alert("User credentials are invalid"):alert("Please fill in all fields")}(e)},children:[Object(p.jsx)("input",{name:"email",type:"email",autoFocus:!0,placeholder:"Email",value:n,onChange:function(e){return c(e.target.value)}}),Object(p.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:j,onChange:function(e){return b(e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Login"})]}),Object(p.jsxs)("p",{children:["Don't have an account?",Object(p.jsx)(s.b,{to:"/register",children:"Sign up here"})]})]})};var v=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),u=Object(o.a)(a,2),j=u[0],b=u[1],d=Object(r.useState)(""),g=Object(o.a)(d,2),h=g[0],m=g[1],f=Object(i.f)(),x=Object(l.c)((function(e){return e.registeredUsers})),v=Object(l.b)();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Registration Page"}),Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(n,j,h),n&&j&&h?x.find((function(e){return e.email===j}))?alert("Email has been registered before"):(v(O({name:n,email:j,password:h,key:Date.now()})),alert("User ".concat(n," successfully created. Please Login")),console.log(x),f("/")):alert("Please fill in all fields")}(e)},children:[Object(p.jsx)("label",{htmlFor:"name"}),Object(p.jsx)("input",{name:"name",type:"text",autoFocus:!0,placeholder:"Name",onChange:function(e){return c(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"email"}),Object(p.jsx)("input",{name:"email",type:"email",placeholder:"Email",onChange:function(e){return b(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"password"}),Object(p.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Register"})]}),Object(p.jsxs)("p",{children:["Already have an account?",Object(p.jsx)(s.b,{to:"/",children:"Login here"})]})]})};var w=function(){var e=Object(l.c)((function(e){return e.currentUser})),t=Object(l.b)(),n=Object(i.f)();return Object(r.useEffect)((function(){e.isLoggedIn||(console.log("Logging you out"),alert("Logging out. Redirecting to Login page"),n("/"))}),[e.isLoggedIn]),Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["Welcome ",Object(p.jsx)("span",{children:e.name})]}),Object(p.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),t(m())}(e)},children:"Logout"})]})};var y=function(){return Object(p.jsx)(s.a,{basename:"/auth-redux",className:"App",children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/",element:Object(p.jsx)(x,{})}),Object(p.jsx)(i.a,{path:"/register",element:Object(p.jsx)(v,{})}),Object(p.jsx)(i.a,{path:"/home",element:Object(p.jsx)(w,{})})]})})},L=n(17),U=n(9),S=n(18),C={key:"root",version:1,storage:n.n(S).a},P=Object(U.g)(C,f),k=Object(j.a)({reducer:P,middleware:function(e){return e({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})}}),D=Object(U.h)(k);a.a.render(Object(p.jsx)(l.a,{store:k,children:Object(p.jsx)(L.a,{loading:null,persistor:D,children:Object(p.jsx)(y,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.2dff3e60.chunk.js.map